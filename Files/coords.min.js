function bakeLayers(a,n,e){var o=a.map,t=a.pipenet,l={mapOpt:{},pipenet:{}};for(var r in o){var i=o[r].url,s=o[r].z,m=o[r].name,p=L.imageOverlay(i,e),c="Base Map";1==s&&p.addTo(n),m?c=m:o.length>1&&(c="Deck "+s),l.mapOpt[c]=p}if(console.info("done baking map"),0==t.length)return console.info("no pipenet found, skipping pipenet baking"),l;for(var r in t){i=t[r].url,s=t[r].z,p=L.imageOverlay(i,e),c="Pipenet";""!=i&&null!=i&&(t.length>1&&(c="Pipenet Z:"+s),l.pipenet[c]=p)}return console.info("done baking pipenet"),l}function attachListener(a,n,e){e||(e=newpoly(a)),a.on("mousemove",o=>{var t=Math.floor(o.latlng.lat),l=Math.floor(o.latlng.lng),r=leaflet2ss13(t,l,n);e.setLatLngs([[t,l],[t+1,l],[t+1,l+1],[t,l+1],[t,l]]).redraw().bindTooltip(r.x+","+r.y).openTooltip().addTo(a)});let o=readquery();if(console.info("Parsing parameter cords, param:",o),o&&"x"in o&&"y"in o){let e=ss132leaflet({x:Number(o.x),y:Number(o.y)},n);a.setView(L.latLng(e.lat,e.lng)),"zoom"in o&&a.setZoom(Number(o.zoom))}else console.info("it's blank...")}function addMetadata(a,n){}function initFTL(a,n,e){(!a||"N"!=a&&"S"!=a&&"E"!=a&&"W"!=a)&&(a="E"),(!n||"norm"!=n&&"tg"!=n)&&(n="norm"),e&&!isNaN(e)||(e=0);const o=$("#layer1"),t=$("#layer2"),l=$("#layer3"),r={tg:"TG_layer",norm:"layer"};var i={};i.l1=Math.max(80+e,1),i.l2=Math.max(40+e,1),i.l3=Math.max(20+e,1),o.addClass(r[n]+"1"),t.addClass(r[n]+"2"),l.addClass(r[n]+"3"),o.css("animation-name","loop_"+a),t.css("animation-name","loop_"+a),l.css("animation-name","loop_"+a),o.animate({"animation-duration":i.l1+"s"},5e3),t.animate({"animation-duration":i.l2+"s"},5e3),l.animate({"animation-duration":i.l3+"s"},5e3)}function readquery(){var a={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(n,e,o){a[e]=o}),a}function newpoly(a,n){n||(n={fill:!1,color:"#40628a",weight:5});const e=["Poly wanna cracker!","Check the crystal, you chucklefucks!","Stop wasting precius bytes on the webmap Adri!!","Wire the solars, you lazy bums!","Stop breaking the webmap!!!","WHO TOOK THE DAMN HARDSUITS?","The console blares, GET https://www.googletagmanager.com/gtag/js?id=UA-115958323-1 net::ERR_BLOCKED_BY_CLIENT",'CE, the clown ran "rm -rf /" on the NTNet station map server',"OH GOD ITS ABOUT TO DELAMINATE CALL THE SHUTTLE"];return console.warn("Poly "+["squawks","says","yells"][Math.floor(3*Math.random())]+", "+e[Math.floor(Math.random()*e.length)]),L.polygon([],n).addTo(a)}function leaflet2ss13(a,n,e){var o={};return o.y=a+Math.abs(e[1][0])+1,o.x=n+1,o}function ss132leaflet(a,n){var e={};return e.lat=a.y-Math.abs(n[1][0])||255,e.lng=a.x-1,e}