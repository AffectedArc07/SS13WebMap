function bakeLayers(a,e,n){var o=a.map,t=a.pipenet,l={mapOpt:{},pipenet:{}};for(var r in o){var i=o[r].url,s=o[r].z,m=o[r].name,p=L.imageOverlay(i,n),c="Base Map";1==s&&p.addTo(e),m?c=m:o.length>1&&(c="Deck "+s),l.mapOpt[c]=p}if(console.info("done baking map"),0==t.length)return console.info("no pipenet found, skipping pipenet baking"),l;for(var r in t){i=t[r].url,s=t[r].z,p=L.imageOverlay(i,n),c="Pipenet";""!=i&&null!=i&&(t.length>1&&(c="Pipenet Z:"+s),l.pipenet[c]=p)}return console.info("done baking pipenet"),l}function attachListener(a,e,n){n||(n=newpoly(a)),a.on("mousemove",o=>{var t=Math.floor(o.latlng.lat),l=Math.floor(o.latlng.lng),r=leaflet2ss13(t,l,e);n.setLatLngs([[t,l],[t+1,l],[t+1,l+1],[t,l+1],[t,l]]).redraw().bindTooltip(r.x+","+r.y).openTooltip().addTo(a)});let o=readquery();if(console.info("Parsing parameter cords, param:",o),o&&"x"in o&&"y"in o){let n=ss132leaflet({x:Number(o.x),y:Number(o.y)},e);a.setView(L.latLng(n.lat,n.lng)),"zoom"in o&&a.setZoom(Number(o.zoom))}else console.info("it's blank...")}function addMetadata(a,e){}function initFTL(a,e,n){(!a||"N"!=a&&"S"!=a&&"E"!=a&&"W"!=a)&&(a="E"),(!e||"norm"!=e&&"tg"!=e)&&(e="norm"),n&&!isNaN(n)||(n=0);const o=$("#layer1"),t=$("#layer2"),l=$("#layer3"),r={tg:"TG_layer",norm:"layer"};var i={};i.l1=Math.max(80+n,1),i.l2=Math.max(40+n,1),i.l3=Math.max(20+n,1),o.addClass(r[e]+"1"),t.addClass(r[e]+"2"),l.addClass(r[e]+"3"),o.css("animation-name","loop_"+a),t.css("animation-name","loop_"+a),l.css("animation-name","loop_"+a),o.animate({"animation-duration":i.l1+"s"},5e3),t.animate({"animation-duration":i.l2+"s"},5e3),l.animate({"animation-duration":i.l3+"s"},5e3)}function readquery(){var a={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(e,n,o)=>{a[n]=o}),a}function newpoly(a,e){e||(e={fill:!1,color:"#40628a",weight:5});const n=["Poly wanna cracker!","Check the crystal, you chucklefucks!","Stop wasting precius bytes on the webmap Adri!!","Wire the solars, you lazy bums!","Stop breaking the webmap!!!","WHO TOOK THE DAMN HARDSUITS?","The console blares, GET https://www.googletagmanager.com/gtag/js?id=UA-115958323-1 net::ERR_BLOCKED_BY_CLIENT",'CE, the clown ran "rm -rf /" on the NTNet station map server',"OH GOD ITS ABOUT TO DELAMINATE CALL THE SHUTTLE"];return console.warn("Poly "+["squawks","says","yells"][Math.floor(3*Math.random())]+", "+n[Math.floor(Math.random()*n.length)]),L.polygon([],e).addTo(a)}function leaflet2ss13(a,e,n){var o={};return o.y=a+Math.abs(n[1][0])+1,o.x=e+1,o}function ss132leaflet(a,e){var n={};return n.lat=a.y-Math.abs(e[1][0])||255,n.lng=a.x-1,n}